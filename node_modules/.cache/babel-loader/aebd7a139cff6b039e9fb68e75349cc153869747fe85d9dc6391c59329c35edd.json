{"ast":null,"code":"var _jsxFileName = \"/Users/adlyazim/Documents/GitHub/ENTI674-Team3-FinalProject/client/src/pages/OutfitPlanner.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { supabase } from '../utils/supabaseClient';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/main.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OutfitPlanner = () => {\n  _s();\n  const navigate = useNavigate();\n  const [clothingItems, setClothingItems] = useState([]);\n  const [selectedItems, setSelectedItems] = useState([]);\n  const [savedOutfits, setSavedOutfits] = useState([]);\n  const [showSaveModal, setShowSaveModal] = useState(false);\n  const [outfitName, setOutfitName] = useState('');\n  const [outfitOccasion, setOutfitOccasion] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [scheduledOutfits, setScheduledOutfits] = useState([]);\n  const [showScheduleModal, setShowScheduleModal] = useState(false);\n  const [selectedOutfitForSchedule, setSelectedOutfitForSchedule] = useState(null);\n  const [scheduleDate, setScheduleDate] = useState('');\n  const [isGoogleCalendarConnected, setIsGoogleCalendarConnected] = useState(false);\n  const [activeTab, setActiveTab] = useState('planner');\n  const categories = ['Jacket', 'Shirt', 'T-Shirt', 'Sweater', 'Dress', 'Skirt', 'Pants', 'Shorts', 'Jeans', 'Shoes', 'Accessories'];\n  const categoryOrder = ['Headwear', 'Jacket', 'Shirt', 'T-Shirt', 'Sweater', 'Dress', 'Skirt', 'Pants', 'Shorts', 'Jeans', 'Shoes', 'Accessories'];\n  useEffect(() => {\n    fetchClothingItems();\n    fetchSavedOutfits();\n    checkOutfitSchedulesTable();\n    fetchScheduledOutfits();\n  }, []);\n  const fetchClothingItems = async () => {\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('clothing_items').select('*');\n      if (error) throw error;\n      if (data) setClothingItems(data);\n    } catch (error) {\n      console.error('Error fetching clothing items:', error);\n    }\n  };\n  const fetchSavedOutfits = async () => {\n    try {\n      const {\n        data,\n        error\n      } = await supabase.from('outfits').select('*').order('created_at', {\n        ascending: false\n      });\n      if (error) throw error;\n      if (data) {\n        // Fetch the actual clothing items for each outfit\n        const outfitsWithItems = await Promise.all(data.map(async outfit => {\n          const {\n            data: items\n          } = await supabase.from('clothing_items').select('*').in('id', outfit.items);\n          return {\n            ...outfit,\n            items: items || []\n          };\n        }));\n        setSavedOutfits(outfitsWithItems);\n      }\n    } catch (error) {\n      console.error('Error fetching saved outfits:', error);\n    }\n  };\n  const fetchScheduledOutfits = async () => {\n    try {\n      const {\n        data: {\n          user\n        }\n      } = await supabase.auth.getUser();\n      if (!user) return;\n      const {\n        data,\n        error\n      } = await supabase.from('outfit_schedules').select(`\n          *,\n          outfit:outfits(*)\n        `).eq('user_id', user.id).order('date', {\n        ascending: true\n      });\n      if (error) throw error;\n      if (data) setScheduledOutfits(data);\n    } catch (error) {\n      console.error('Error fetching scheduled outfits:', error);\n    }\n  };\n  const checkOutfitSchedulesTable = async () => {\n    try {\n      // Try to query the table to see if it exists\n      const {\n        error\n      } = await supabase.from('outfit_schedules').select('id').limit(1);\n      if (error) {\n        console.error('Error checking outfit_schedules table:', error);\n\n        // If the error indicates the table doesn't exist, create it\n        if (error.code === '42P01') {\n          // PostgreSQL error code for undefined_table\n          console.log('Creating outfit_schedules table...');\n          await createOutfitSchedulesTable();\n        }\n      } else {\n        console.log('outfit_schedules table exists');\n      }\n    } catch (error) {\n      console.error('Error in checkOutfitSchedulesTable:', error);\n    }\n  };\n  const createOutfitSchedulesTable = async () => {\n    try {\n      // This is a simplified approach - in a real app, you'd use migrations\n      // or have the table created by your backend\n      console.log('This feature requires the outfit_schedules table to be created in Supabase.');\n      console.log('Please run the SQL in the outfit_schedules.sql file in your Supabase SQL editor.');\n\n      // Show a more user-friendly message\n      alert('The outfit scheduling feature requires database setup. Please contact the administrator.');\n    } catch (error) {\n      console.error('Error creating outfit_schedules table:', error);\n    }\n  };\n  const handleRandomize = () => {\n    const newSelectedItems = [];\n    const usedCategories = new Set();\n\n    // Shuffle the clothing items\n    const shuffledItems = [...clothingItems].sort(() => Math.random() - 0.5);\n\n    // Select one item from each category\n    for (const item of shuffledItems) {\n      if (!usedCategories.has(item.category)) {\n        newSelectedItems.push(item);\n        usedCategories.add(item.category);\n      }\n    }\n    setSelectedItems(newSelectedItems);\n  };\n  const handleItemSelect = item => {\n    // Remove any existing item of the same category\n    const filteredItems = selectedItems.filter(i => i.category !== item.category);\n    setSelectedItems([...filteredItems, item]);\n  };\n  const handleSaveOutfit = async () => {\n    if (!outfitName || selectedItems.length === 0) {\n      alert('Please provide a name for the outfit and select at least one item');\n      return;\n    }\n    try {\n      // Get the current user's ID\n      const {\n        data: {\n          user\n        }\n      } = await supabase.auth.getUser();\n      if (!user) {\n        throw new Error('No authenticated user found');\n      }\n      console.log('Saving outfit with data:', {\n        user_id: user.id,\n        name: outfitName,\n        occasion: outfitOccasion || null,\n        items: selectedItems.map(item => item.id)\n      });\n      const {\n        data,\n        error\n      } = await supabase.from('outfits').insert([{\n        user_id: user.id,\n        name: outfitName,\n        occasion: outfitOccasion || null,\n        items: selectedItems.map(item => item.id)\n      }]).select();\n      if (error) {\n        console.error('Supabase error details:', error);\n        throw error;\n      }\n      console.log('Successfully saved outfit:', data);\n      setShowSaveModal(false);\n      setOutfitName('');\n      setOutfitOccasion('');\n      fetchSavedOutfits();\n    } catch (error) {\n      console.error('Error saving outfit:', error);\n      if (error instanceof Error) {\n        alert(`Error saving outfit: ${error.message}`);\n      } else {\n        alert('Error saving outfit. Please check the console for details.');\n      }\n    }\n  };\n  const handleDeleteOutfit = async outfitId => {\n    if (window.confirm('Are you sure you want to delete this outfit?')) {\n      try {\n        const {\n          error\n        } = await supabase.from('outfits').delete().eq('id', outfitId);\n        if (error) throw error;\n        fetchSavedOutfits();\n      } catch (error) {\n        console.error('Error deleting outfit:', error);\n        alert('Error deleting outfit');\n      }\n    }\n  };\n  const handleScheduleOutfit = async () => {\n    if (!selectedOutfitForSchedule || !scheduleDate) {\n      alert('Please select an outfit and a date');\n      return;\n    }\n    try {\n      const {\n        data: {\n          user\n        }\n      } = await supabase.auth.getUser();\n      if (!user) {\n        throw new Error('No authenticated user found');\n      }\n      console.log('Scheduling outfit with data:', {\n        user_id: user.id,\n        outfit_id: selectedOutfitForSchedule.id,\n        date: scheduleDate\n      });\n      const {\n        data,\n        error\n      } = await supabase.from('outfit_schedules').insert([{\n        user_id: user.id,\n        outfit_id: selectedOutfitForSchedule.id,\n        date: scheduleDate\n      }]).select();\n      if (error) {\n        console.error('Supabase error details:', error);\n        throw error;\n      }\n      console.log('Successfully scheduled outfit:', data);\n      setShowScheduleModal(false);\n      setSelectedOutfitForSchedule(null);\n      setScheduleDate('');\n      fetchScheduledOutfits();\n\n      // If Google Calendar is connected, add event to Google Calendar\n      if (isGoogleCalendarConnected) {\n        addToGoogleCalendar(selectedOutfitForSchedule, scheduleDate);\n      }\n    } catch (error) {\n      console.error('Error scheduling outfit:', error);\n      if (error instanceof Error) {\n        alert(`Error scheduling outfit: ${error.message}`);\n      } else {\n        alert('Error scheduling outfit. Please check the console for details.');\n      }\n    }\n  };\n  const handleDeleteSchedule = async scheduleId => {\n    if (window.confirm('Are you sure you want to remove this outfit from your schedule?')) {\n      try {\n        const {\n          error\n        } = await supabase.from('outfit_schedules').delete().eq('id', scheduleId);\n        if (error) throw error;\n        fetchScheduledOutfits();\n      } catch (error) {\n        console.error('Error deleting scheduled outfit:', error);\n        alert('Error removing outfit from schedule');\n      }\n    }\n  };\n  const addToGoogleCalendar = async (outfit, date) => {\n    // This is a placeholder for Google Calendar integration\n    // In a real implementation, you would use the Google Calendar API\n    console.log('Adding to Google Calendar:', outfit, date);\n    alert('Google Calendar integration would add this outfit to your calendar on ' + date);\n  };\n  const connectGoogleCalendar = () => {\n    // This is a placeholder for Google Calendar authentication\n    // In a real implementation, you would use OAuth to authenticate with Google\n    setIsGoogleCalendarConnected(true);\n    alert('Google Calendar connected successfully!');\n  };\n  const getSortedItems = items => {\n    return [...items].sort((a, b) => {\n      const indexA = categoryOrder.indexOf(a.category);\n      const indexB = categoryOrder.indexOf(b.category);\n      return indexA - indexB;\n    });\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"dashboard-title\",\n          children: \"Outfit Planner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/'),\n        className: \"button button-secondary\",\n        children: \"Back to Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"outfit-planner-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'planner' ? 'active' : ''}`,\n        onClick: () => setActiveTab('planner'),\n        children: \"Outfit Planner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'calendar' ? 'active' : ''}`,\n        onClick: () => setActiveTab('calendar'),\n        children: \"Outfit Calendar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this), activeTab === 'planner' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"outfit-planner-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"outfit-preview-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Current Outfit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"outfit-preview-grid\",\n          children: getSortedItems(selectedItems).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"outfit-preview-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.image_url,\n              alt: item.name || item.category,\n              className: \"outfit-preview-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"outfit-preview-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: item.name || item.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this), item.brand && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"item-brand\",\n                children: item.brand\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 36\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 19\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"outfit-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRandomize,\n            className: \"button\",\n            children: \"Randomize Outfit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSaveModal(true),\n            disabled: selectedItems.length === 0,\n            className: \"button\",\n            children: \"Save Outfit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clothing-selection-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Select Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-filters\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedCategory,\n            onChange: e => setSelectedCategory(e.target.value),\n            className: \"form-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"All Categories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: category,\n              children: category\n            }, category, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"clothing-selection-grid\",\n          children: clothingItems.filter(item => !selectedCategory || item.category === selectedCategory).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `clothing-selection-item ${selectedItems.some(i => i.id === item.id) ? 'selected' : ''}`,\n            onClick: () => handleItemSelect(item),\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.image_url,\n              alt: item.name || item.category,\n              className: \"clothing-selection-image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"clothing-selection-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: item.name || item.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 23\n              }, this), item.brand && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"item-brand\",\n                children: item.brand\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 38\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 21\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"saved-outfits-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Saved Outfits\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"saved-outfits-grid\",\n          children: savedOutfits.map(outfit => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"saved-outfit-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: outfit.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 19\n            }, this), outfit.occasion && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"outfit-occasion\",\n              children: outfit.occasion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"saved-outfit-preview\",\n              children: getSortedItems(outfit.items).map(item => /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image_url,\n                alt: item.name || item.category,\n                className: \"saved-outfit-item-image\"\n              }, item.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"saved-outfit-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setSelectedItems(outfit.items);\n                  window.scrollTo({\n                    top: 0,\n                    behavior: 'smooth'\n                  });\n                },\n                className: \"button button-secondary\",\n                children: \"Load\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setSelectedOutfitForSchedule(outfit);\n                  setShowScheduleModal(true);\n                },\n                className: \"button button-secondary\",\n                children: \"Schedule\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 509,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteOutfit(outfit.id),\n                className: \"button button-danger\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 19\n            }, this)]\n          }, outfit.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"outfit-calendar-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calendar-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Outfit Calendar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 13\n        }, this), !isGoogleCalendarConnected && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: connectGoogleCalendar,\n          className: \"button button-secondary\",\n          children: \"Connect Google Calendar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scheduled-outfits-list\",\n        children: scheduledOutfits.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"no-items-message\",\n          children: \"No outfits scheduled yet. Schedule an outfit from the Outfit Planner tab.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 15\n        }, this) : scheduledOutfits.map(schedule => {\n          var _schedule$outfit, _schedule$outfit2, _schedule$outfit3;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scheduled-outfit-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"scheduled-outfit-date\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: formatDate(schedule.date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"scheduled-outfit-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: (_schedule$outfit = schedule.outfit) === null || _schedule$outfit === void 0 ? void 0 : _schedule$outfit.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 21\n              }, this), ((_schedule$outfit2 = schedule.outfit) === null || _schedule$outfit2 === void 0 ? void 0 : _schedule$outfit2.occasion) && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"outfit-occasion\",\n                children: schedule.outfit.occasion\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"scheduled-outfit-preview\",\n                children: ((_schedule$outfit3 = schedule.outfit) === null || _schedule$outfit3 === void 0 ? void 0 : _schedule$outfit3.items) && getSortedItems(schedule.outfit.items).map(item => /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image_url,\n                  alt: item.name || item.category,\n                  className: \"scheduled-outfit-item-image\"\n                }, item.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 557,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"scheduled-outfit-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeleteSchedule(schedule.id),\n                className: \"button button-danger\",\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 19\n            }, this)]\n          }, schedule.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 541,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 9\n    }, this), showSaveModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Save Outfit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Outfit Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 587,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: outfitName,\n            onChange: e => setOutfitName(e.target.value),\n            placeholder: \"Enter a name for your outfit\",\n            className: \"form-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Occasion (optional):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: outfitOccasion,\n            onChange: e => setOutfitOccasion(e.target.value),\n            placeholder: \"Enter an occasion\",\n            className: \"form-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowSaveModal(false);\n              setOutfitName('');\n              setOutfitOccasion('');\n            },\n            className: \"button button-secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveOutfit,\n            disabled: !outfitName,\n            className: \"button\",\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 9\n    }, this), showScheduleModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Schedule Outfit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Select Date:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: scheduleDate,\n            onChange: e => setScheduleDate(e.target.value),\n            className: \"form-input\",\n            min: new Date().toISOString().split('T')[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"scheduled-outfit-preview\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: selectedOutfitForSchedule === null || selectedOutfitForSchedule === void 0 ? void 0 : selectedOutfitForSchedule.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 15\n          }, this), (selectedOutfitForSchedule === null || selectedOutfitForSchedule === void 0 ? void 0 : selectedOutfitForSchedule.occasion) && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"outfit-occasion\",\n            children: selectedOutfitForSchedule.occasion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 647,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"outfit-preview-grid\",\n            children: (selectedOutfitForSchedule === null || selectedOutfitForSchedule === void 0 ? void 0 : selectedOutfitForSchedule.items) && getSortedItems(selectedOutfitForSchedule.items).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"outfit-preview-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image_url,\n                alt: item.name || item.category,\n                className: \"outfit-preview-image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"outfit-preview-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: item.name || item.category\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 658,\n                  columnNumber: 23\n                }, this), item.brand && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"item-brand\",\n                  children: item.brand\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 657,\n                columnNumber: 21\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowScheduleModal(false);\n              setSelectedOutfitForSchedule(null);\n              setScheduleDate('');\n            },\n            className: \"button button-secondary\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleScheduleOutfit,\n            disabled: !scheduleDate,\n            className: \"button\",\n            children: \"Schedule\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 631,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 385,\n    columnNumber: 5\n  }, this);\n};\n_s(OutfitPlanner, \"MvbdtwWbFeNhFxh66NfbeA77eBw=\", false, function () {\n  return [useNavigate];\n});\n_c = OutfitPlanner;\nexport default OutfitPlanner;\nvar _c;\n$RefreshReg$(_c, \"OutfitPlanner\");","map":{"version":3,"names":["React","useState","useEffect","supabase","useNavigate","jsxDEV","_jsxDEV","OutfitPlanner","_s","navigate","clothingItems","setClothingItems","selectedItems","setSelectedItems","savedOutfits","setSavedOutfits","showSaveModal","setShowSaveModal","outfitName","setOutfitName","outfitOccasion","setOutfitOccasion","selectedCategory","setSelectedCategory","scheduledOutfits","setScheduledOutfits","showScheduleModal","setShowScheduleModal","selectedOutfitForSchedule","setSelectedOutfitForSchedule","scheduleDate","setScheduleDate","isGoogleCalendarConnected","setIsGoogleCalendarConnected","activeTab","setActiveTab","categories","categoryOrder","fetchClothingItems","fetchSavedOutfits","checkOutfitSchedulesTable","fetchScheduledOutfits","data","error","from","select","console","order","ascending","outfitsWithItems","Promise","all","map","outfit","items","in","user","auth","getUser","eq","id","limit","code","log","createOutfitSchedulesTable","alert","handleRandomize","newSelectedItems","usedCategories","Set","shuffledItems","sort","Math","random","item","has","category","push","add","handleItemSelect","filteredItems","filter","i","handleSaveOutfit","length","Error","user_id","name","occasion","insert","message","handleDeleteOutfit","outfitId","window","confirm","delete","handleScheduleOutfit","outfit_id","date","addToGoogleCalendar","handleDeleteSchedule","scheduleId","connectGoogleCalendar","getSortedItems","a","b","indexA","indexOf","indexB","formatDate","dateString","Date","toLocaleDateString","weekday","year","month","day","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","image_url","alt","brand","disabled","value","onChange","e","target","some","scrollTo","top","behavior","schedule","_schedule$outfit","_schedule$outfit2","_schedule$outfit3","type","placeholder","min","toISOString","split","_c","$RefreshReg$"],"sources":["/Users/adlyazim/Documents/GitHub/ENTI674-Team3-FinalProject/client/src/pages/OutfitPlanner.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { supabase } from '../utils/supabaseClient';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/main.css';\n\ninterface ClothingItem {\n  id: string;\n  image_url: string;\n  name: string | null;\n  brand: string | null;\n  category: string;\n  color: string;\n  occasion: string;\n}\n\ninterface Outfit {\n  id: string;\n  name: string;\n  occasion: string | null;\n  items: ClothingItem[];\n  created_at: string;\n}\n\ninterface OutfitSchedule {\n  id: string;\n  outfit_id: string;\n  date: string;\n  user_id: string;\n  created_at: string;\n  outfit?: Outfit;\n}\n\nconst OutfitPlanner: React.FC = () => {\n  const navigate = useNavigate();\n  const [clothingItems, setClothingItems] = useState<ClothingItem[]>([]);\n  const [selectedItems, setSelectedItems] = useState<ClothingItem[]>([]);\n  const [savedOutfits, setSavedOutfits] = useState<Outfit[]>([]);\n  const [showSaveModal, setShowSaveModal] = useState(false);\n  const [outfitName, setOutfitName] = useState('');\n  const [outfitOccasion, setOutfitOccasion] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState<string>('');\n  const [scheduledOutfits, setScheduledOutfits] = useState<OutfitSchedule[]>([]);\n  const [showScheduleModal, setShowScheduleModal] = useState(false);\n  const [selectedOutfitForSchedule, setSelectedOutfitForSchedule] = useState<Outfit | null>(null);\n  const [scheduleDate, setScheduleDate] = useState('');\n  const [isGoogleCalendarConnected, setIsGoogleCalendarConnected] = useState(false);\n  const [activeTab, setActiveTab] = useState<'planner' | 'calendar'>('planner');\n\n  const categories = [\n    'Jacket',\n    'Shirt',\n    'T-Shirt',\n    'Sweater',\n    'Dress',\n    'Skirt',\n    'Pants',\n    'Shorts',\n    'Jeans',\n    'Shoes',\n    'Accessories',\n  ];\n\n  const categoryOrder = [\n    'Headwear',\n    'Jacket',\n    'Shirt',\n    'T-Shirt',\n    'Sweater',\n    'Dress',\n    'Skirt',\n    'Pants',\n    'Shorts',\n    'Jeans',\n    'Shoes',\n    'Accessories'\n  ];\n\n  useEffect(() => {\n    fetchClothingItems();\n    fetchSavedOutfits();\n    checkOutfitSchedulesTable();\n    fetchScheduledOutfits();\n  }, []);\n\n  const fetchClothingItems = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('clothing_items')\n        .select('*');\n\n      if (error) throw error;\n      if (data) setClothingItems(data);\n    } catch (error) {\n      console.error('Error fetching clothing items:', error);\n    }\n  };\n\n  const fetchSavedOutfits = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('outfits')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      if (data) {\n        // Fetch the actual clothing items for each outfit\n        const outfitsWithItems = await Promise.all(\n          data.map(async (outfit) => {\n            const { data: items } = await supabase\n              .from('clothing_items')\n              .select('*')\n              .in('id', outfit.items);\n            return {\n              ...outfit,\n              items: items || [],\n            };\n          })\n        );\n        setSavedOutfits(outfitsWithItems);\n      }\n    } catch (error) {\n      console.error('Error fetching saved outfits:', error);\n    }\n  };\n\n  const fetchScheduledOutfits = async () => {\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) return;\n\n      const { data, error } = await supabase\n        .from('outfit_schedules')\n        .select(`\n          *,\n          outfit:outfits(*)\n        `)\n        .eq('user_id', user.id)\n        .order('date', { ascending: true });\n\n      if (error) throw error;\n      if (data) setScheduledOutfits(data);\n    } catch (error) {\n      console.error('Error fetching scheduled outfits:', error);\n    }\n  };\n\n  const checkOutfitSchedulesTable = async () => {\n    try {\n      // Try to query the table to see if it exists\n      const { error } = await supabase\n        .from('outfit_schedules')\n        .select('id')\n        .limit(1);\n      \n      if (error) {\n        console.error('Error checking outfit_schedules table:', error);\n        \n        // If the error indicates the table doesn't exist, create it\n        if (error.code === '42P01') { // PostgreSQL error code for undefined_table\n          console.log('Creating outfit_schedules table...');\n          await createOutfitSchedulesTable();\n        }\n      } else {\n        console.log('outfit_schedules table exists');\n      }\n    } catch (error) {\n      console.error('Error in checkOutfitSchedulesTable:', error);\n    }\n  };\n\n  const createOutfitSchedulesTable = async () => {\n    try {\n      // This is a simplified approach - in a real app, you'd use migrations\n      // or have the table created by your backend\n      console.log('This feature requires the outfit_schedules table to be created in Supabase.');\n      console.log('Please run the SQL in the outfit_schedules.sql file in your Supabase SQL editor.');\n      \n      // Show a more user-friendly message\n      alert('The outfit scheduling feature requires database setup. Please contact the administrator.');\n    } catch (error) {\n      console.error('Error creating outfit_schedules table:', error);\n    }\n  };\n\n  const handleRandomize = () => {\n    const newSelectedItems: ClothingItem[] = [];\n    const usedCategories = new Set<string>();\n\n    // Shuffle the clothing items\n    const shuffledItems = [...clothingItems].sort(() => Math.random() - 0.5);\n\n    // Select one item from each category\n    for (const item of shuffledItems) {\n      if (!usedCategories.has(item.category)) {\n        newSelectedItems.push(item);\n        usedCategories.add(item.category);\n      }\n    }\n\n    setSelectedItems(newSelectedItems);\n  };\n\n  const handleItemSelect = (item: ClothingItem) => {\n    // Remove any existing item of the same category\n    const filteredItems = selectedItems.filter(i => i.category !== item.category);\n    setSelectedItems([...filteredItems, item]);\n  };\n\n  const handleSaveOutfit = async () => {\n    if (!outfitName || selectedItems.length === 0) {\n      alert('Please provide a name for the outfit and select at least one item');\n      return;\n    }\n\n    try {\n      // Get the current user's ID\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) {\n        throw new Error('No authenticated user found');\n      }\n\n      console.log('Saving outfit with data:', {\n        user_id: user.id,\n        name: outfitName,\n        occasion: outfitOccasion || null,\n        items: selectedItems.map(item => item.id)\n      });\n\n      const { data, error } = await supabase\n        .from('outfits')\n        .insert([\n          {\n            user_id: user.id,\n            name: outfitName,\n            occasion: outfitOccasion || null,\n            items: selectedItems.map(item => item.id),\n          },\n        ])\n        .select();\n\n      if (error) {\n        console.error('Supabase error details:', error);\n        throw error;\n      }\n\n      console.log('Successfully saved outfit:', data);\n\n      setShowSaveModal(false);\n      setOutfitName('');\n      setOutfitOccasion('');\n      fetchSavedOutfits();\n    } catch (error) {\n      console.error('Error saving outfit:', error);\n      if (error instanceof Error) {\n        alert(`Error saving outfit: ${error.message}`);\n      } else {\n        alert('Error saving outfit. Please check the console for details.');\n      }\n    }\n  };\n\n  const handleDeleteOutfit = async (outfitId: string) => {\n    if (window.confirm('Are you sure you want to delete this outfit?')) {\n      try {\n        const { error } = await supabase\n          .from('outfits')\n          .delete()\n          .eq('id', outfitId);\n\n        if (error) throw error;\n        fetchSavedOutfits();\n      } catch (error) {\n        console.error('Error deleting outfit:', error);\n        alert('Error deleting outfit');\n      }\n    }\n  };\n\n  const handleScheduleOutfit = async () => {\n    if (!selectedOutfitForSchedule || !scheduleDate) {\n      alert('Please select an outfit and a date');\n      return;\n    }\n\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) {\n        throw new Error('No authenticated user found');\n      }\n\n      console.log('Scheduling outfit with data:', {\n        user_id: user.id,\n        outfit_id: selectedOutfitForSchedule.id,\n        date: scheduleDate\n      });\n\n      const { data, error } = await supabase\n        .from('outfit_schedules')\n        .insert([\n          {\n            user_id: user.id,\n            outfit_id: selectedOutfitForSchedule.id,\n            date: scheduleDate,\n          },\n        ])\n        .select();\n\n      if (error) {\n        console.error('Supabase error details:', error);\n        throw error;\n      }\n\n      console.log('Successfully scheduled outfit:', data);\n\n      setShowScheduleModal(false);\n      setSelectedOutfitForSchedule(null);\n      setScheduleDate('');\n      fetchScheduledOutfits();\n\n      // If Google Calendar is connected, add event to Google Calendar\n      if (isGoogleCalendarConnected) {\n        addToGoogleCalendar(selectedOutfitForSchedule, scheduleDate);\n      }\n    } catch (error) {\n      console.error('Error scheduling outfit:', error);\n      if (error instanceof Error) {\n        alert(`Error scheduling outfit: ${error.message}`);\n      } else {\n        alert('Error scheduling outfit. Please check the console for details.');\n      }\n    }\n  };\n\n  const handleDeleteSchedule = async (scheduleId: string) => {\n    if (window.confirm('Are you sure you want to remove this outfit from your schedule?')) {\n      try {\n        const { error } = await supabase\n          .from('outfit_schedules')\n          .delete()\n          .eq('id', scheduleId);\n\n        if (error) throw error;\n        fetchScheduledOutfits();\n      } catch (error) {\n        console.error('Error deleting scheduled outfit:', error);\n        alert('Error removing outfit from schedule');\n      }\n    }\n  };\n\n  const addToGoogleCalendar = async (outfit: Outfit, date: string) => {\n    // This is a placeholder for Google Calendar integration\n    // In a real implementation, you would use the Google Calendar API\n    console.log('Adding to Google Calendar:', outfit, date);\n    alert('Google Calendar integration would add this outfit to your calendar on ' + date);\n  };\n\n  const connectGoogleCalendar = () => {\n    // This is a placeholder for Google Calendar authentication\n    // In a real implementation, you would use OAuth to authenticate with Google\n    setIsGoogleCalendarConnected(true);\n    alert('Google Calendar connected successfully!');\n  };\n\n  const getSortedItems = (items: ClothingItem[]) => {\n    return [...items].sort((a, b) => {\n      const indexA = categoryOrder.indexOf(a.category);\n      const indexB = categoryOrder.indexOf(b.category);\n      return indexA - indexB;\n    });\n  };\n\n  const formatDate = (dateString: string) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-US', { \n      weekday: 'long', \n      year: 'numeric', \n      month: 'long', \n      day: 'numeric' \n    });\n  };\n\n  return (\n    <div className=\"dashboard\">\n      <div className=\"dashboard-header\">\n        <div className=\"header-content\">\n          <h1 className=\"dashboard-title\">Outfit Planner</h1>\n        </div>\n        <button onClick={() => navigate('/')} className=\"button button-secondary\">\n          Back to Dashboard\n        </button>\n      </div>\n\n      <div className=\"outfit-planner-tabs\">\n        <button \n          className={`tab-button ${activeTab === 'planner' ? 'active' : ''}`}\n          onClick={() => setActiveTab('planner')}\n        >\n          Outfit Planner\n        </button>\n        <button \n          className={`tab-button ${activeTab === 'calendar' ? 'active' : ''}`}\n          onClick={() => setActiveTab('calendar')}\n        >\n          Outfit Calendar\n        </button>\n      </div>\n\n      {activeTab === 'planner' ? (\n        <div className=\"outfit-planner-container\">\n          <div className=\"outfit-preview-section\">\n            <h2 className=\"section-title\">Current Outfit</h2>\n            <div className=\"outfit-preview-grid\">\n              {getSortedItems(selectedItems).map((item) => (\n                <div key={item.id} className=\"outfit-preview-item\">\n                  <img\n                    src={item.image_url}\n                    alt={item.name || item.category}\n                    className=\"outfit-preview-image\"\n                  />\n                  <div className=\"outfit-preview-details\">\n                    <h3>{item.name || item.category}</h3>\n                    {item.brand && <p className=\"item-brand\">{item.brand}</p>}\n                  </div>\n                </div>\n              ))}\n            </div>\n            <div className=\"outfit-actions\">\n              <button onClick={handleRandomize} className=\"button\">\n                Randomize Outfit\n              </button>\n              <button\n                onClick={() => setShowSaveModal(true)}\n                disabled={selectedItems.length === 0}\n                className=\"button\"\n              >\n                Save Outfit\n              </button>\n            </div>\n          </div>\n\n          <div className=\"clothing-selection-section\">\n            <h2 className=\"section-title\">Select Items</h2>\n            <div className=\"category-filters\">\n              <select\n                value={selectedCategory}\n                onChange={(e) => setSelectedCategory(e.target.value)}\n                className=\"form-select\"\n              >\n                <option value=\"\">All Categories</option>\n                {categories.map(category => (\n                  <option key={category} value={category}>{category}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"clothing-selection-grid\">\n              {clothingItems\n                .filter(item => !selectedCategory || item.category === selectedCategory)\n                .map((item) => (\n                  <div\n                    key={item.id}\n                    className={`clothing-selection-item ${\n                      selectedItems.some(i => i.id === item.id) ? 'selected' : ''\n                    }`}\n                    onClick={() => handleItemSelect(item)}\n                  >\n                    <img\n                      src={item.image_url}\n                      alt={item.name || item.category}\n                      className=\"clothing-selection-image\"\n                    />\n                    <div className=\"clothing-selection-details\">\n                      <h3>{item.name || item.category}</h3>\n                      {item.brand && <p className=\"item-brand\">{item.brand}</p>}\n                    </div>\n                  </div>\n                ))}\n            </div>\n          </div>\n\n          <div className=\"saved-outfits-section\">\n            <h2 className=\"section-title\">Saved Outfits</h2>\n            <div className=\"saved-outfits-grid\">\n              {savedOutfits.map((outfit) => (\n                <div key={outfit.id} className=\"saved-outfit-card\">\n                  <h3>{outfit.name}</h3>\n                  {outfit.occasion && <p className=\"outfit-occasion\">{outfit.occasion}</p>}\n                  <div className=\"saved-outfit-preview\">\n                    {getSortedItems(outfit.items).map((item) => (\n                      <img\n                        key={item.id}\n                        src={item.image_url}\n                        alt={item.name || item.category}\n                        className=\"saved-outfit-item-image\"\n                      />\n                    ))}\n                  </div>\n                  <div className=\"saved-outfit-actions\">\n                    <button\n                      onClick={() => {\n                        setSelectedItems(outfit.items);\n                        window.scrollTo({ top: 0, behavior: 'smooth' });\n                      }}\n                      className=\"button button-secondary\"\n                    >\n                      Load\n                    </button>\n                    <button\n                      onClick={() => {\n                        setSelectedOutfitForSchedule(outfit);\n                        setShowScheduleModal(true);\n                      }}\n                      className=\"button button-secondary\"\n                    >\n                      Schedule\n                    </button>\n                    <button\n                      onClick={() => handleDeleteOutfit(outfit.id)}\n                      className=\"button button-danger\"\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"outfit-calendar-container\">\n          <div className=\"calendar-header\">\n            <h2 className=\"section-title\">Outfit Calendar</h2>\n            {!isGoogleCalendarConnected && (\n              <button onClick={connectGoogleCalendar} className=\"button button-secondary\">\n                Connect Google Calendar\n              </button>\n            )}\n          </div>\n          \n          <div className=\"scheduled-outfits-list\">\n            {scheduledOutfits.length === 0 ? (\n              <p className=\"no-items-message\">No outfits scheduled yet. Schedule an outfit from the Outfit Planner tab.</p>\n            ) : (\n              scheduledOutfits.map((schedule) => (\n                <div key={schedule.id} className=\"scheduled-outfit-card\">\n                  <div className=\"scheduled-outfit-date\">\n                    <h3>{formatDate(schedule.date)}</h3>\n                  </div>\n                  <div className=\"scheduled-outfit-details\">\n                    <h4>{schedule.outfit?.name}</h4>\n                    {schedule.outfit?.occasion && (\n                      <p className=\"outfit-occasion\">{schedule.outfit.occasion}</p>\n                    )}\n                    <div className=\"scheduled-outfit-preview\">\n                      {schedule.outfit?.items && getSortedItems(schedule.outfit.items).map((item) => (\n                        <img\n                          key={item.id}\n                          src={item.image_url}\n                          alt={item.name || item.category}\n                          className=\"scheduled-outfit-item-image\"\n                        />\n                      ))}\n                    </div>\n                  </div>\n                  <div className=\"scheduled-outfit-actions\">\n                    <button\n                      onClick={() => handleDeleteSchedule(schedule.id)}\n                      className=\"button button-danger\"\n                    >\n                      Remove\n                    </button>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Save Outfit Modal */}\n      {showSaveModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <h2 className=\"section-title\">Save Outfit</h2>\n            <div className=\"form-group\">\n              <label>Outfit Name:</label>\n              <input\n                type=\"text\"\n                value={outfitName}\n                onChange={(e) => setOutfitName(e.target.value)}\n                placeholder=\"Enter a name for your outfit\"\n                className=\"form-input\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>Occasion (optional):</label>\n              <input\n                type=\"text\"\n                value={outfitOccasion}\n                onChange={(e) => setOutfitOccasion(e.target.value)}\n                placeholder=\"Enter an occasion\"\n                className=\"form-input\"\n              />\n            </div>\n            <div className=\"modal-actions\">\n              <button\n                onClick={() => {\n                  setShowSaveModal(false);\n                  setOutfitName('');\n                  setOutfitOccasion('');\n                }}\n                className=\"button button-secondary\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSaveOutfit}\n                disabled={!outfitName}\n                className=\"button\"\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Schedule Outfit Modal */}\n      {showScheduleModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <h2 className=\"section-title\">Schedule Outfit</h2>\n            <div className=\"form-group\">\n              <label>Select Date:</label>\n              <input\n                type=\"date\"\n                value={scheduleDate}\n                onChange={(e) => setScheduleDate(e.target.value)}\n                className=\"form-input\"\n                min={new Date().toISOString().split('T')[0]}\n              />\n            </div>\n            <div className=\"scheduled-outfit-preview\">\n              <h3>{selectedOutfitForSchedule?.name}</h3>\n              {selectedOutfitForSchedule?.occasion && (\n                <p className=\"outfit-occasion\">{selectedOutfitForSchedule.occasion}</p>\n              )}\n              <div className=\"outfit-preview-grid\">\n                {selectedOutfitForSchedule?.items && getSortedItems(selectedOutfitForSchedule.items).map((item) => (\n                  <div key={item.id} className=\"outfit-preview-item\">\n                    <img\n                      src={item.image_url}\n                      alt={item.name || item.category}\n                      className=\"outfit-preview-image\"\n                    />\n                    <div className=\"outfit-preview-details\">\n                      <h3>{item.name || item.category}</h3>\n                      {item.brand && <p className=\"item-brand\">{item.brand}</p>}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n            <div className=\"modal-actions\">\n              <button\n                onClick={() => {\n                  setShowScheduleModal(false);\n                  setSelectedOutfitForSchedule(null);\n                  setScheduleDate('');\n                }}\n                className=\"button button-secondary\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleScheduleOutfit}\n                disabled={!scheduleDate}\n                className=\"button\"\n              >\n                Schedule\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OutfitPlanner; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}